[General]
cmdenv-express-mode = true
cmdenv-autoflush = true
network = lte.simulations.Mode4.Highway
debug-on-errors = true
print-undisposed = false

sim-time-limit = 512s
repeat = 1

**.statistic-recording = true
**.scalar-recording = true
**.vector-recording = true
output-vector-file = "results/${configname}/${runid}.vec"
output-scalar-file = "results/${configname}/${runid}.sca"

**.coreDebug = false
**.routingRecorder.enabled = false

*.playgroundSizeX = 20000m
*.playgroundSizeY = 20000m
*.playgroundSizeZ = 50m

num-rngs = 4

*.traci.mapper.rng-0 = 1

**.channelControl.pMax = 10W
**.channelControl.alpha = 1.0
**.channelControl.carrierFrequency = 6000e+6Hz

**.lteNic.phy.channelModel = xmldoc("config_channel.xml")
**.feedbackComputation = xmldoc("config_channel.xml")
**.rbAllocationType = "localized"
**.feedbackType = "ALLBANDS"
**.feedbackGeneratorType = "IDEAL"
**.maxHarqRtx = 0
**.deployer.ruRange = 50
**.deployer.ruTxPower = "50,50,50;"
**.deployer.antennaCws = "2;" # !!MACRO + RUS (numRus + 1)
**.deployer.numRbDl = 51
**.deployer.numRbUl = 48
#**.numBands = 48
**.numBands = 50
**.fbDelay = 1

**.macDelayDl.statistic-recording = false
**.macThroughputDl.statistic-recording = false
**.macDelayUl.statistic-recording = false
**.macThroughputUl.statistic-recording = false
**.macDelayD2D.statistic-recording = false
**.macThroughputD2D.statistic-recording = false
**.macCellThroughputUl.statistic-recording = false
**.macCellThroughputDl.statistic-recording = false
**.macCellThroughputD2D.statistic-recording = false
**.macCellPacketLossDl.statistic-recording = false
**.macCellPacketLossUl.statistic-recording = false
**.macCellPacketLossD2D.statistic-recording = false
**.macPacketLossUl.statistic-recording = false
**.macPacketLossDl.statistic-recording = false
**.macPacketLossD2D.statistic-recording = false
**.macBufferOverFlowDl.statistic-recording = false
**.macBufferOverFlowUl.statistic-recording = false
**.macBufferOverFlowD2D.statistic-recording = false
**.harqErrorRateUl.statistic-recording = false
**.harqErrorRateDl.statistic-recording = false
**.harqErrorRateD2D.statistic-recording = false
**.harqErrorRate_1st_Ul.statistic-recording = false
**.harqErrorRate_1st_Dl.statistic-recording = false
**.harqErrorRate_1st_D2D.statistic-recording = false
**.harqErrorRate_2nd_Ul.statistic-recording = false
**.harqErrorRate_2nd_D2D.statistic-recording = false
**.harqErrorRate_3rd_Ul.statistic-recording = false
**.harqErrorRate_3rd_Dl.statistic-recording = false
**.harqErrorRate_3rd_D2D.statistic-recording = false
**.harqErrorRate_4th_Ul.statistic-recording = false
**.harqErrorRate_4th_Dl.statistic-recording = false
**.harqErrorRate_4th_D2D.statistic-recording = false
**.receivedPacketFromUpperLayer.statistic-recording = false
**.receivedPacketFromLowerLayer.statistic-recording = false
**.sentPacketToUpperLayer.statistic-recording = false
**.sentPacketToLowerLayer.statistic-recording = false
**.measuredItbs.statistic-recording = false
**.pdcpdrop0.statistic-recording = false
**.pdcpdrop1.statistic-recording = false
**.pdcpdrop2.statistic-recording = false
**.pdcpdrop3.statistic-recording = false
**.averageCqiD2D.statistic-recording = false
**.averageCqiDl.statistic-recording = false
**.averageCqiUl.statistic-recording = false

##########################################################
#            VeinsManager parameters                     #
##########################################################
*.veinsManager.moduleType = "lte.corenetwork.nodes.cars.CarNonIp"
*.veinsManager.moduleName = "car"
*.veinsManager.moduleDisplayString = ""
*.veinsManager.launchConfig = xmldoc("highway/006vpm/highway.launchd.xml")
*.veinsManager.updateInterval = 0.1s

*.veinsManager.firstStepAt = 0s

##########################################################
#                      Mobility                          #
##########################################################
*.car[*].mobilityType = "VeinsInetMobility"

**.deployer.positionUpdateInterval = 0.01s
# Cite from: ETSI. (2018). Intelligent Transport Systems (ITS); Access layer specification for Intelligent Transport Systems using LTE Vehicle to everything communication in the 5,9 GHz frequency band. Etsi Ts 103 613 V1.1.1, 1.1.1, 1â€“18.
*.car[*].d2dCapable = true
*.car[*].mode4D2D = true
**.amcMode = "D2D"
*.car[*].applType = "Mode4App"
*.car[*].appl.packetSize = 190
# ----- My Code -----
*.car[*].appl.max_cpm_size = 300
# ----- My Code end. -----
*.car[*].nicType = "LteNicVUeMode4"
*.car[*].lteNic.d2dCapable = true
*.car[*].lteNic.pdcpRrc.ipBased = false
*.car[*].lteNic.rlc.ipBased = false
*.car[*].lteNic.mac.subchannelSize = 10
*.car[*].lteNic.mac.numSubchannels = 5
*.car[*].lteNic.mac.probResourceKeep = 0
*.car[*].lteNic.mac.useCBR = false
*.car[*].lteNic.mac.crLimit = false
*.car[*].lteNic.mac.rriLookup = false
*.car[*].lteNic.mac.dccMechanism = false
*.car[*].lteNic.mac.packetDropping = false
*.car[*].lteNic.mac.reselectAfter = 1
*.car[*].lteNic.mac.adjacencyPSCCHPSSCH = true
*.car[*].lteNic.rlc.um.scenario3gpp = false
*.car[*].lteNic.phy.subchannelSize = 10
*.car[*].lteNic.phy.numSubchannels = 5
*.car[*].lteNic.phy.selectionWindowStartingSubframe = 1
*.car[*].lteNic.phy.adjacencyPSCCHPSSCH = true
*.car[*].lteNic.phy.pStep = 100
*.car[*].lteNic.phy.thresholdRSSI = 10
*.car[*].ueTxPower = 23
*.car[*].lteNic.phy.d2dTxPower = 23

**.usePreconfiguredTxParams = true
**.lteNic.mac.txConfig = xmldoc("sidelink_configuration.xml")

[Config Base]
#*.car[*].d2dCapable = true
#*.car[*].mode4D2D = true
#**.amcMode = "D2D"
#*.car[*].applType = "Mode4App"
#*.car[*].appl.packetSize = 190
#*.car[*].nicType = "LteNicVUeMode4"
#*.car[*].lteNic.d2dCapable = true
#*.car[*].lteNic.pdcpRrc.ipBased = false
#*.car[*].lteNic.rlc.ipBased = false
#*.car[*].lteNic.mac.subchannelSize = 16
#*.car[*].lteNic.mac.numSubchannels = 3
#*.car[*].lteNic.mac.probResourceKeep = 0.4
#*.car[*].lteNic.mac.useCBR = false
#*.car[*].lteNic.mac.crLimit = false
#*.car[*].lteNic.mac.rriLookup = false
#*.car[*].lteNic.mac.dccMechanism = false
#*.car[*].lteNic.mac.packetDropping = false
#*.car[*].lteNic.mac.reselectAfter = 1
#*.car[*].lteNic.mac.adjacencyPSCCHPSSCH = true
#*.car[*].lteNic.rlc.um.scenario3gpp = false
#*.car[*].lteNic.phy.subchannelSize = 16
#*.car[*].lteNic.phy.numSubchannels = 3
#*.car[*].lteNic.phy.selectionWindowStartingSubframe = 1
#*.car[*].lteNic.phy.adjacencyPSCCHPSSCH = true
#*.car[*].lteNic.phy.pStep = 100
#*.car[*].lteNic.phy.thresholdRSSI = 10
#*.car[*].ueTxPower = 23
#*.car[*].lteNic.phy.d2dTxPower = 23
#
#**.usePreconfiguredTxParams = true
#**.lteNic.mac.txConfig = xmldoc("sidelink_configuration.xml")


[Config Co-Carla-Dynamic]
# ----- app manager config -----
sim-time-limit = 162s
*.veinsManager.firstStepAt = 0s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].appl.is_dynamic_simulation = true
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/dynamic/"


[Config Co-Carla-Static]
# ----- app manager config -----
sim-time-limit = 162s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/2021-07-23_15-38-44/"


[Config Co-Carla-Static-006_time-150-210_sensor-360]
# ----- app manager config -----
sim-time-limit = 162s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/static_past/density-0.06_time-150-210_sensor-360/"
#*.car[*].appl.carlaVeinsDataDir = "/home/yoshida/carla/Co-Simulation/OpenCV2X/carla-veins-data/static_past/density-0.06_time-150-210_sensor-360/"

[Config Co-Carla-Static-006_time-150-210_sensor-360_tx-10]
# ----- app manager config -----
sim-time-limit = 162s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].ueTxPower = 10
*.car[*].lteNic.phy.d2dTxPower = 10
*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/static_past/density-0.06_time-150-210_sensor-360/"
#*.car[*].appl.carlaVeinsDataDir = "/home/yoshida/carla/Co-Simulation/OpenCV2X/carla-veins-data/static_past/density-0.06_time-150-210_sensor-360/"

[Config Co-Carla-Static-020_time-150-210_sensor-360]
# ----- app manager config -----
sim-time-limit = 153s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/static_past/density-0.20_time-150-210_sensor-360/"
#*.car[*].appl.carlaVeinsDataDir = "/home/yoshida/carla/Co-Simulation/OpenCV2X/carla-veins-data/static_past/density-0.30_time-150-210_sensor-360/"

[Config Co-Carla-Static-020_time-150-210_sensor-360_tx-10]
# ----- app manager config -----
sim-time-limit = 153s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].ueTxPower = 10
*.car[*].lteNic.phy.d2dTxPower = 10
*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/static_past/density-0.20_time-150-210_sensor-360/"
#*.car[*].appl.carlaVeinsDataDir = "/home/yoshida/carla/Co-Simulation/OpenCV2X/carla-veins-data/static_past/density-0.30_time-150-210_sensor-360/"

[Config Co-Carla-Static-030_time-150-210_sensor-360]
# ----- app manager config -----
sim-time-limit = 162s
*.veinsManager.firstStepAt = 150s
*.veinsManager.updateInterval = 0.1s
*.veinsManager.launchConfig = xmldoc("sumo_for_vfc.launchd.xml")

*.car[*].appl.is_dynamic_simulation = false
*.car[*].appl.sendBeacons = false
*.car[*].appl.sendCPM = true
*.car[*].appl.carlaTimeStep = 0.1s
#*.car[*].appl.carlaVeinsDataDir = "/vagrant/carla-veins-data/static_past/density-0.30_time-150-210_sensor-360/"
*.car[*].appl.carlaVeinsDataDir = "/home/yoshida/carla/Co-Simulation/OpenCV2X/carla-veins-data/static_past/density-0.30_time-150-210_sensor-360/"